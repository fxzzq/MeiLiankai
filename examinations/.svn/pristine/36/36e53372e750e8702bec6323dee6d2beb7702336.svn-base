<!doctype html>
<html>

<head>
<meta charset="UTF-8">
<title>错题集</title>
<meta name="viewport"
	content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<link href="${basePath}_1/lib/mui/css/mui.min.css" rel="stylesheet" />
<link href="${basePath}Student/css/MistakesCollectionMenu.css"
	rel="stylesheet" />
<style type="text/css">
.mui-pull-bottom-pocket,.mui-pull-top-pocket {
	visibility: visible;
}
</style>


<script src="${basePath}_1/lib/mui/js/mui.min.js"></script>
<script type="text/javascript">
	mui.init({
		gestureConfig : {
			tap : true, //默认为true
			doubletap : true, //默认为false
			longtap : true, //默认为false
			swipe : true, //默认为true
			drag : true, //默认为true
			hold : true, //默认为false，不监听
			release : true
		//默认为false，不监听
		}
	});
</script>
</head>

<body>

	<div id="pullrefresh" class="mui-content mui-scroll-wrapper">
		<div class="mui-scroll">

			<ul id="OA_task_2"
				class="mui-table-view mui-table-view-striped mui-table-view-condensed">
				<li class="mui-table-view-cell">
					<div class="mui-slider-right mui-disabled">
						<a class="mui-btn mui-btn-red">删除</a>
					</div>
					<div class="mui-slider-handle mui-table">
						<div class="mui-table-cell mui-col-xs-10 listfont">
							<h4 class="mui-ellipsis">下列单位中，是物理功率单位的是</h4>

							<p class=" mui-ellipsis">
								三年级 <span>物理</span> <span>力学部分</span> <span>受力分析</span>
							</p>

						</div>
						<div class="mui-table-cell mui-col-xs-2 mui-text-right ">
							<span class="success">对</span>
						</div>
					</div></li>
				<li class="mui-table-view-cell">
					<div class="mui-slider-right mui-disabled">
						<a class="mui-btn mui-btn-red">删除</a>
					</div>
					<div class="mui-slider-handle mui-table">
						<div class="mui-table-cell mui-col-xs-10 listfont">

							<h4 class="mui-ellipsis">下列单位中，是物理功率单位的是</h4>
							<p class=" mui-ellipsis">
								三年级 <span>物理</span> <span>力学部分</span> <span>受力分析</span>
							</p>

						</div>
						<div class="mui-table-cell mui-col-xs-2 mui-text-right ">
							<span class="error">&nbsp;&nbsp;&nbsp;&nbsp;错</span>
						</div>
					</div></li>
				<li class="mui-table-view-cell">
					<div class="mui-slider-right mui-disabled">
						<a class="mui-btn mui-btn-red">删除</a>
					</div>
					<div class="mui-slider-handle mui-table">
						<div class="mui-table-cell mui-col-xs-10 listfont">

							<h4 class="mui-ellipsis">下列单位中，是物理功率单位的是</h4>
							<p class=" mui-ellipsis">
								三年级 <span>物理</span> <span>力学部分</span> <span>受力分析</span>
							</p>

						</div>
						<div class="mui-table-cell mui-col-xs-2 mui-text-right ">
							<span class="success">&nbsp;&nbsp;&nbsp;&nbsp;对</span>
						</div>
					</div></li>
			</ul>

		</div>

	</div>
	<script>
		mui.init();
		(function($) {

			//第二个demo，向左拖拽后显示操作图标，释放后自动触发的业务逻辑
			$('#OA_task_2').on('tap', '.mui-btn', function(event) {
				var elem = this;
				var li = elem.parentNode.parentNode;
				mui.confirm('确认删除该条记录？', 'Hello MUI', btnArray, function(e) {
					if (e.index == 0) {
						li.parentNode.removeChild(li);
					} else {
						setTimeout(function() {
							$.swipeoutClose(li);
						}, 0);
					}
				});
			});
			var btnArray = [ '确认', '取消' ];

		})(mui);
	</script>
	<script>
		mui('.mui-table-view').on('tap', '.mui-table-view-cell', function() {
			mui.openWindow({
				url : 'MistakesCollectionDetail.html',
			});
		});
	</script>
	<script>
		mui.init({
			pullRefresh : {
				container : '#pullrefresh',
				down : {
					contentdown : "下拉可以刷新", //可选，在下拉可刷新状态时，下拉刷新控件上显示的标题内容
					contentover : "释放立即刷新", //可选，在释放可刷新状态时，下拉刷新控件上显示的标题内容
					contentrefresh : "正在刷新...", //可选，正在刷新状态时，下拉刷新
					callback : pulldownRefresh
				},
				up : {
					contentrefresh : '正在加载...',
					contentnomore : '没有更多数据了',
					callback : pullupRefresh
				}
			}
		});
		/**
		 * 下拉刷新具体业务实现
		 */
		function pulldownRefresh() {

			setTimeout(function() {
				var table = document.body.querySelector('.mui-table-view');
				var cells = document.body
						.querySelectorAll('.mui-table-view-cell');

				mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
			}, 1500);
		}
		var count = 0;
		/**
		 * 上拉加载具体业务实现
		 */
		function pullupRefresh() {
			/*	$("li").remove();*/
			setTimeout(
					function() {
						mui('#pullrefresh').pullRefresh().endPullupToRefresh(
								(++count > 2)); //参数为true代表没有更多数据了。
						var table = document.body
								.querySelector('.mui-table-view');
						var cells = document.body
								.querySelectorAll('.mui-table-view-cell');
						var i = 0;
						var len = i + 4;
						for (i = 0; i < len; i++) {
							//alert(i);
							var li = document.createElement('li');
							li.className = 'mui-table-view-cell';
							/*	li.innerHTML = '<a class="mui-navigate-right">Item ' + (i + 1) + '</a>';*/
							li.innerHTML = '<div class="mui-slider-right mui-disabled">'
									+ '<a class="mui-btn mui-btn-red">删除</a></div>'
									+ '<div class="mui-slider-handle mui-table">'
									+ '<div class="mui-table-cell mui-col-xs-10 listfont">'
									+ '<h4 class="mui-ellipsis">'
									+ '下列单位中，是物理功率单位的是'
									+ (i + 1)
									+ '</h4>'
									+ '<p class=" mui-ellipsis">三年级<span>物理</span> <span>力学部分</span> <span>受力分析</span></p>'
									+ '</div>'
									+ '<div class="mui-table-cell mui-col-xs-2 mui-text-right ">'
									+ '<span class="error">&nbsp;&nbsp;&nbsp;&nbsp;错</span>'
									+ '</div></div>';
							//新纪录插到最前面；
							//table.insertBefore(li, table.firstChild);
						   //新纪录插到最最后面；
							table.appendChild(li);

						}

					}, 1500);
		}
	</script>
</body>

</html>